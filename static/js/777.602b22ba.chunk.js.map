{"version":3,"file":"static/js/777.602b22ba.chunk.js","mappings":"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","sources":["components/chat/ChatInputField.js","components/chat/ChatMessage.js","components/chat/Conversation.js","components/chat/Chat.js","components/chat/ChatFavorites.js","components/chat/ChatContacts.js","components/chat/ChatApp.js","hooks/useMobile.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport { IoMdSend } from 'react-icons/io';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectCurrentContact } from '../../store/chat/chat.selectors';\r\nimport useChat from '../../hooks/useChat';\r\nimport { notifyIsNotTyping, notifyIsTyping } from '../../utils/socket';\r\n\r\nconst ChatInputField = () => {\r\n    const [inputValue, setInputValue] = useState(\"\");\r\n    const {user} = useAuth()\r\n    const inputRef = useRef();\r\n    const currentContact = useSelector(selectCurrentContact);\r\n    const {currentChat, handleSendMessage} = useChat();\r\n    const [isTyping, setIsTyping] = useState(false);\r\n  \r\n    const handleInputChange = (e) => setInputValue(e.target.value);\r\n  \r\n    const resetInputValue = () => setInputValue(\"\");\r\n  \r\n    const handleMessageSubmit = (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!inputValue || !currentChat || !currentContact) return;\r\n\r\n        const date = new Date();\r\n\r\n        const newMessage = {\r\n            text: inputValue,\r\n            from: user._id,\r\n            sent_at: date.toISOString(),\r\n            to: currentContact._id,\r\n        };\r\n\r\n        // Send message\r\n        handleSendMessage(currentChat._id, newMessage);\r\n\r\n        resetInputValue();\r\n    }\r\n\r\n    // Set isTyping\r\n    useEffect(() => {\r\n        if (!inputValue.length) {\r\n           setIsTyping(false);\r\n           notifyIsNotTyping(currentChat?._id, currentContact?.socket_id);\r\n           return;\r\n        }\r\n\r\n        if (isTyping) return;\r\n\r\n        setIsTyping(true);\r\n\r\n    }, [inputValue]);\r\n\r\n    // Notify contact is typing if isTyping is true\r\n    useEffect(() => {\r\n        if (!isTyping) return;\r\n\r\n        notifyIsTyping(currentChat?._id, currentContact?.socket_id);\r\n        \r\n    }, [isTyping]);\r\n\r\n  return (\r\n    <form id='chat-input-container' onSubmit={handleMessageSubmit}>\r\n        {/* <Emojis setInputValue={setInputValue} inputValue={inputValue}/> */}\r\n        <input\r\n            type=\"text\"\r\n            name=\"chat_input\"\r\n            id=\"chat_input\"\r\n            onChange={handleInputChange}\r\n            value={inputValue}\r\n            placeholder=\"Type a message...\"\r\n            ref={inputRef}\r\n        />\r\n        <button type='submit' className='icon-span' onClick={handleMessageSubmit}>\r\n            <IoMdSend className='icon large'/>\r\n        </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default ChatInputField;","import React from 'react';\r\nimport { AM_PM } from '../../utils/timeFormats';\r\n\r\nconst ChatMessage = ({msg, currentContact}) => {\r\n    const {sent_at, text, from} = msg;\r\n    \r\n  return (\r\n    <>\r\n      <div className={from !== currentContact?._id ? 'message-container right-side' : 'message-container'}>\r\n        <p className='message'>{text}</p>\r\n        <span>{AM_PM(sent_at)}</span>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ChatMessage;","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { selectFavorites } from '../../store/chat/chat.selectors';\r\nimport useChat from '../../hooks/useChat';\r\nimport Line from '../common/Line';\r\nimport ChatMessage from './ChatMessage';\r\nimport { generateKey } from '../../utils/keyGenerator';\r\nimport ProfilePicture from '../common/ProfilePicture';\r\nimport BlankProfilePicture from '../common/BlankProfilePicture';\r\nimport { setChat, setFavorites } from '../../store/chat/chat.actions';\r\nimport useSocketEvents from '../../hooks/useSocketEvents';\r\nimport Space from '../common/Space';\r\nimport IconContainer from '../common/IconContainer';\r\nimport { AiOutlineUser } from 'react-icons/ai';\r\nimport { BsStarFill } from 'react-icons/bs';\r\nimport { lastSeenTime } from '../../utils/timeFormats';\r\nimport { updateUser } from '../../httpRequests/http.auth';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport useMobile from '../../hooks/useMobile';\r\n\r\nconst Conversation = () => {\r\n    const {currentContact, messages, currentChat, setMessages} = useChat();\r\n    const [contactName, setContactName] = useState('');\r\n    const dispatch = useDispatch();\r\n    const messagesBottomRef = useRef(null);\r\n    const [isTyping, setIsTyping] = useState(false);\r\n    const {userInfo} = useAuth();\r\n    const favorites = useSelector(selectFavorites);\r\n    const {isMobile} = useMobile();\r\n\r\n    useSocketEvents({\r\n        events: {\r\n            typing: () => setIsTyping(true),\r\n            notTyping: () => setIsTyping(false)\r\n        }\r\n    })\r\n\r\n    // Set contact name\r\n    useEffect(() => {\r\n        if (!currentContact) return setContactName('');\r\n        setContactName(`${currentContact.first_name} ${currentContact.last_name}`);\r\n    }, [currentContact]);\r\n\r\n    // Refresh messages\r\n    useEffect(() => {\r\n        if (!currentChat) return;\r\n        dispatch(setMessages([...currentChat?.messages]));\r\n    }, [currentChat]);\r\n\r\n    // Scroll to last message\r\n    const scrollToBottom = () => {\r\n        messagesBottomRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n    }\r\n\r\n    // Scroll to last message\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    const handleAddToFavorites = async (contactId) => {\r\n        if (favorites.some(favId => favId === contactId)) {\r\n            // Remove from favorites\r\n\r\n            await updateUser({\r\n                ...userInfo,\r\n                favorites: [...userInfo.favorites.filter(favId => favId !== contactId)]\r\n            });\r\n\r\n            dispatch(setFavorites([...favorites.filter(favId => favId !== contactId)]));\r\n\r\n        } else {\r\n            // Add to favorites\r\n\r\n            await updateUser({\r\n                ...userInfo,\r\n                favorites: [...userInfo.favorites, contactId]\r\n            });\r\n\r\n            dispatch(setFavorites([...favorites, contactId]));\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (currentChat?.messages?.some(msg => msg.seen === false)) {\r\n            dispatch(setChat({\r\n                ...currentChat,\r\n                messages: [...currentChat?.messages?.map(msg => {\r\n                    if (msg.seen === false) {\r\n                        return {...msg, seen: true};\r\n                    } else return msg;\r\n            })]}));\r\n        }\r\n    }, []);\r\n\r\n  return (\r\n    <div className='conversation-container'>\r\n        {contactName &&\r\n            <div className='profile'>\r\n                {currentContact?.base64_img_data || currentContact?.img_url\r\n                    ? <ProfilePicture src={currentContact?.base64_img_data || currentContact?.img_url}/>\r\n                    : <BlankProfilePicture/>\r\n                }\r\n                <div>\r\n                    <h3>{contactName}</h3>\r\n                    {currentContact?.online === true\r\n                        ? <p className='green'>online</p>\r\n                        : <p>last seen {lastSeenTime(currentContact?.last_seen)}</p>\r\n                    }\r\n                </div>\r\n                <Space/>\r\n                <button className='btn' title='Add to favorites' onClick={() => handleAddToFavorites(currentContact?._id)}>\r\n                    <IconContainer icon={<BsStarFill className={favorites.includes(currentContact?._id) ? 'icon star' : 'icon'}/>}/>\r\n                </button>\r\n                <button className='btn white' title='View profile'>\r\n                    <IconContainer icon={<AiOutlineUser className='icon xl'/>}/>\r\n                    {isMobile ? '' : 'View profile'}\r\n                </button>\r\n            </div>\r\n        }\r\n\r\n        <Line/>\r\n        <div className='conversation'>\r\n            {messages?.length ? messages?.map(msg => {\r\n                return <ChatMessage key={generateKey()} msg={msg} currentContact={currentContact}/>\r\n            }) : null}\r\n            <div>\r\n                {isTyping ? <p className='typing'>{currentContact?.first_name} is typing...</p> : null}\r\n            </div>\r\n            <div className='messages-bottom' ref={messagesBottomRef}></div>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Conversation;","import React, { useEffect, useState } from 'react';\r\nimport ProfilePicture from '../common/ProfilePicture';\r\nimport Space from '../common/Space';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport useChat from '../../hooks/useChat';\r\nimport { useDispatch } from 'react-redux';\r\nimport { setChatSideBarOpen, setCurrentContact, setMessages } from '../../store/chat/chat.actions';\r\nimport BlankProfilePicture from '../common/BlankProfilePicture';\r\nimport IconContainer from '../common/IconContainer';\r\nimport {MdDoneAll} from \"react-icons/md\";\r\nimport { AM_PM } from '../../utils/timeFormats';\r\nimport { fetchChatAsync } from '../../store/chat/chat.actions';\r\n\r\nconst Chat = ({contactId, messages, isTyping}) => {\r\n    const {getContactInfo, currentChat} = useChat();\r\n    const {userInfo} = useAuth();\r\n    const dispatch = useDispatch();\r\n    const [lastMessage, setLastMessage] = useState(null);\r\n    const [unseenMessages, setUnseenMessages] = useState(0);\r\n    const [contact, setContact] = useState(null);\r\n\r\n    // Load chat\r\n    const loadChat = (userId, contactId) => {\r\n      dispatch(fetchChatAsync(userId, contactId));\r\n    }\r\n\r\n    // Handle chat click\r\n    const handleChatClick = async (contactId) => {\r\n      loadChat(userInfo?._id, contactId);\r\n      dispatch(setCurrentContact(contact));\r\n      dispatch(setChatSideBarOpen(false));\r\n    }\r\n\r\n    // Set last message and unseen messages\r\n    useEffect(() => {\r\n      if (!messages?.length) return;\r\n      setLastMessage(messages[messages.length - 1]);\r\n      setUnseenMessages(messages.filter(msg => msg.seen === false && msg.from !== userInfo?._id).length);\r\n    }, [messages]);\r\n\r\n    // Refresh contact\r\n    const refreshContact = async (contactId) => {\r\n        const contact = await getContactInfo(contactId);\r\n        setContact(contact);\r\n    }\r\n\r\n    // Load contact\r\n    useEffect(() => {\r\n      refreshContact(contactId);\r\n    }, []);\r\n\r\n  return (\r\n    <div\r\n      className='contact'\r\n      onClick={() => handleChatClick(contactId)}\r\n    >\r\n        <div className='contact-image'>\r\n          {contact?.base64_img_data || contact?.img_url\r\n            ? <ProfilePicture src={contact?.base64_img_data || contact?.img_url}/>\r\n            : <BlankProfilePicture/>\r\n          }\r\n        </div>\r\n\r\n        <div className='contact-content'>\r\n          <h3 className='contact-name'>{contact?.first_name} {contact?.last_name}</h3>\r\n          <span className='last-time-message-sent'>{lastMessage?.sent_at ? AM_PM(lastMessage?.sent_at) : null}</span>\r\n          <p className='last-message'>\r\n            {isTyping\r\n              ? <span className='typing green'>typing...</span>\r\n              : <>\r\n                  {lastMessage?.from === userInfo?._id\r\n                    ? <>\r\n                        {lastMessage?.seen === true\r\n                          ? <><IconContainer icon={<MdDoneAll className='icon green'/>}/>{lastMessage?.text}</>\r\n                          : <><IconContainer icon={<MdDoneAll className='icon'/>}/>{lastMessage?.text}</>\r\n                        }\r\n                      </>\r\n                    : lastMessage?.text\r\n                  }\r\n                </>\r\n            }\r\n            \r\n          </p>\r\n          <Space/>\r\n          {/* {lastMessage?.seen === false && unseenMessages\r\n            ? \r\n              <div className='unseen-messages-count-container'>\r\n                <span className='unseen-messages-count'>{unseenMessages}</span>\r\n              </div>\r\n            : null\r\n          } */}\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat;","import React, { Suspense, useEffect, useState } from 'react';\r\nimport IconContainer from '../common/IconContainer';\r\nimport { BsStarFill } from 'react-icons/bs';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setFavorites, setFavoritesChats } from '../../store/chat/chat.actions';\r\nimport { selectFavorites, selectFavoritesChats } from '../../store/chat/chat.selectors';\r\nimport Chat from './Chat';\r\nimport useSocketEvents from '../../hooks/useSocketEvents';\r\nimport Spinner from '../common/Spinner';\r\nimport useChat from '../../hooks/useChat';\r\n\r\nconst ChatFavorites = () => {\r\n  const favorites = useSelector(selectFavorites);\r\n  const {userInfo} = useAuth();\r\n  const dispatch = useDispatch();\r\n  const [typingStates, setTypingStates] = useState({});\r\n  const favoritesChats = useSelector(selectFavoritesChats);\r\n  const {sortChats} = useChat();\r\n\r\n  // Listen to socket events\r\n  useSocketEvents({\r\n      events: {\r\n          typing: ({chatId}) => {\r\n              setTypingStates({...typingStates, [chatId]: true,});\r\n          },\r\n          notTyping: ({chatId}) => {\r\n              setTypingStates({...typingStates, [chatId]: false,});\r\n          },\r\n      },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) return;\r\n    dispatch(setFavorites([...userInfo?.favorites]));\r\n  }, [userInfo]);\r\n\r\n  useEffect(() => {\r\n    if (!favorites.length && favoritesChats.length) {\r\n      dispatch(setFavoritesChats([]));\r\n      return;\r\n    }\r\n\r\n  }, [favorites]);\r\n\r\n\r\n  return (\r\n    <div className='favorites-container'>\r\n\r\n        <div className='chat-title'>\r\n          <IconContainer icon={<BsStarFill className='icon star'/>}/>\r\n          <h3>Favorites</h3>\r\n        </div>\r\n\r\n        <Suspense fallback={<Spinner/>}>\r\n          <div className='favorites'>\r\n            {favoritesChats?.length\r\n              ? <>\r\n                {sortChats(favoritesChats).map(favChat => {\r\n                  return (\r\n                    <Chat\r\n                        key={favChat?._id}\r\n                        contactId={favChat?.users.find(uid => uid !== userInfo?._id)}\r\n                        messages={favChat?.messages}\r\n                        isTyping={typingStates[favChat?._id]}\r\n                    />\r\n                  )\r\n                })}\r\n                </>\r\n              : null\r\n            }\r\n          </div>\r\n        </Suspense>\r\n        \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChatFavorites;","import React, {Suspense, useEffect, useState} from 'react';\r\nimport Spinner from '../common/Spinner';\r\nimport IconContainer from '../common/IconContainer';\r\nimport { BsChatLeftTextFill } from 'react-icons/bs';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectChats, selectContacts, selectFavorites } from '../../store/chat/chat.selectors';\r\nimport Chat from './Chat';\r\nimport useSocketEvents from '../../hooks/useSocketEvents';\r\nimport useChat from '../../hooks/useChat';\r\n\r\nconst ChatContacts = () => {\r\n    const {userInfo} = useAuth();\r\n    const chats = useSelector(selectChats);\r\n    const contacts = useSelector(selectContacts);\r\n    const [typingStates, setTypingStates] = useState({});\r\n    const {fetchUserChats, sortChats} = useChat();\r\n    const favorites = useSelector(selectFavorites);\r\n\r\n    // Listen to socket events\r\n    useSocketEvents({\r\n        events: {\r\n            typing: ({chatId}) => {\r\n                setTypingStates({...typingStates, [chatId]: true,});\r\n            },\r\n            notTyping: ({chatId}) => {\r\n                setTypingStates({...typingStates, [chatId]: false,});\r\n            },\r\n        },\r\n    });\r\n\r\n    // Fetch user chats\r\n    useEffect(() => {\r\n        if (!contacts.length) return;\r\n        \r\n        // Fetching user chats\r\n        if (userInfo) fetchUserChats();\r\n\r\n    }, [contacts, favorites]);\r\n\r\n  return (\r\n      <div className='chat-contacts'>\r\n\r\n            <div className='chat-title'>\r\n                <IconContainer icon={<BsChatLeftTextFill className='icon small blue'/>}/>\r\n                <h3>Chats</h3>\r\n            </div>\r\n\r\n            <Suspense fallback={<Spinner/>}>\r\n                {chats?.length\r\n                    ? sortChats(chats).map(chat => {\r\n                        return (\r\n                            <Chat\r\n                                key={chat._id}\r\n                                contactId={chat.users?.find(uid => uid !== userInfo?._id)}\r\n                                messages={chat.messages}\r\n                                isTyping={typingStates[chat._id]}\r\n                            />\r\n                        )\r\n                    })\r\n                    : null\r\n                }\r\n            </Suspense>\r\n\r\n        </div>\r\n  )\r\n}\r\n\r\nexport default ChatContacts;","import React, { useEffect, useRef, useState } from 'react';\r\nimport ChatInputField from './ChatInputField';\r\nimport IconContainer from '../common/IconContainer';\r\nimport useChat from '../../hooks/useChat';\r\nimport Conversation from './Conversation';\r\nimport useAuth from '../../hooks/useAuth';\r\nimport { BsChevronRight, BsSearch} from 'react-icons/bs';\r\nimport BlankProfilePicture from '../common/BlankProfilePicture';\r\nimport ProfilePicture from '../common/ProfilePicture';\r\nimport { getChat } from '../../httpRequests/http.chat';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchChatAsync, setChatSideBarOpen, setContacts, setCurrentContact } from '../../store/chat/chat.actions';\r\nimport { setCurrentProject } from '../../store/project/project.actions';\r\nimport ChatFavorites from './ChatFavorites';\r\nimport SearchBar from '../common/SearchBar';\r\nimport ChatContacts from './ChatContacts';\r\nimport useProject from '../../hooks/useProject';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport useMobile from '../../hooks/useMobile';\r\nimport {HiOutlineChatBubbleLeftRight} from \"react-icons/hi2\";\r\nimport { selectChatSideBarOpen } from '../../store/chat/chat.selectors';\r\n\r\nconst ChatApp = () => {\r\n  const {loadContacts, contacts, createNewChat, getContactInfo, currentChat} = useChat();\r\n  const {userInfo} = useAuth();\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [isSearching, setIsSearching] = useState(false);\r\n  const inputRef = useRef(null);\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const {currentProject} = useProject();\r\n  const navigate = useNavigate();\r\n  const {isMobile} = useMobile();\r\n  const chatSideBarOpen = useSelector(selectChatSideBarOpen);\r\n\r\n  // Update search value\r\n  const handleSearchChange = (e) => {\r\n    setSearchValue(e.target.value);\r\n  }\r\n\r\n  // Check if inputs match contact names\r\n  const checkContactNames = (searchValue) => {\r\n    const value = searchValue.toLowerCase();\r\n\r\n    const matchingContacts = contacts.filter(contact =>\r\n      contact.first_name.toLowerCase().includes(value)\r\n      || contact.last_name.toLowerCase().includes(value)\r\n      || (contact.first_name.toLowerCase() || contact.last_name.toLowerCase()) === value\r\n      || contact.first_name.toLowerCase() + ' ' + contact.last_name.toLowerCase() === value\r\n    );\r\n    \r\n    // Set search results\r\n    setSearchResults(matchingContacts);\r\n  }\r\n\r\n  // Check if chat exists, if not create new chat\r\n  const handleContactClick = async (contact) => {\r\n\r\n    // Check if exists\r\n    const chatAlreadyExists = await getChat(userInfo?._id, contact._id);\r\n\r\n    if (chatAlreadyExists) {\r\n      getContactInfo(userInfo?._id, contact._id);\r\n\r\n      dispatch(setCurrentContact(contact));\r\n\r\n      setIsSearching(false);\r\n      setSearchValue(\"\");\r\n    } else {\r\n      // Create chat\r\n      await createNewChat(userInfo?._id, contact);\r\n\r\n      dispatch(setCurrentContact(contact));\r\n\r\n      setIsSearching(false);\r\n      setSearchValue(\"\");\r\n    }\r\n  }\r\n\r\n  // Refresh current chat\r\n  const refreshCurrentChat = () => {\r\n    dispatch(fetchChatAsync(currentChat.users[0], currentChat.users[1]));\r\n  }\r\n\r\n  // Toggle chat side bar\r\n  const toggleChatSideBar = () => {\r\n    dispatch(setChatSideBarOpen(!chatSideBarOpen));\r\n  }\r\n\r\n  // Set isSearching\r\n  useEffect(() => {\r\n    if (inputRef.current && searchValue.length) {\r\n      setIsSearching(true);\r\n    } else setIsSearching(false);\r\n  }, [searchValue]);\r\n\r\n  // Check if inputs match contact names\r\n  useEffect(() => {\r\n    if (!searchValue.length) return;\r\n    checkContactNames(searchValue);\r\n  }, [searchValue]);\r\n\r\n  // Set currentProject to null\r\n  useEffect(() => {\r\n    if (currentProject) dispatch(setCurrentProject(null));\r\n  }, []);\r\n\r\n  // Remove current user from contacts\r\n  useEffect(() => {\r\n    if (!contacts.length) return;\r\n\r\n    const isInContacts = contacts.some(contact => contact._id === userInfo?._id);\r\n\r\n    if (isInContacts) {\r\n      dispatch(setContacts([...contacts.filter(c => c._id !== userInfo?._id)]));\r\n    }\r\n    \r\n  }, [contacts]);\r\n\r\n  useEffect(() => {\r\n    if (!userInfo) return;\r\n\r\n    // Load contacts\r\n    loadContacts();\r\n\r\n    // Refresh current chat\r\n    if (currentChat) {\r\n      refreshCurrentChat();\r\n    }\r\n  }, []);\r\n\r\n  // Redirect to homepage\r\n  useEffect(() => {\r\n    if (!userInfo) navigate('/');\r\n  }, []);\r\n\r\n  return (\r\n    <div className='main-chat-container'>\r\n      <div className={chatSideBarOpen && isMobile ? 'left open' : 'left'}>\r\n        {isMobile && <IconContainer icon={<BsChevronRight className='icon'/>} additionalClass={isMobile ? 'mobile' : 'not-mobile'} onClick={toggleChatSideBar}/>}\r\n\r\n        <div className='main-chat-title'>\r\n          <IconContainer icon={<HiOutlineChatBubbleLeftRight className='icon'/>}/>\r\n          <h1>Chat</h1>\r\n        </div>\r\n\r\n        <SearchBar\r\n          type=\"text\"\r\n          refValue={inputRef}\r\n          placeholderText='Search'\r\n          fn={handleSearchChange}\r\n          value={searchValue}\r\n          icon={<IconContainer icon={<BsSearch className='icon'/>}/>}\r\n        />\r\n\r\n        {isSearching\r\n        ? <div className='chat-search-results'>\r\n            {searchResults.length\r\n            ? searchResults.map(res => (\r\n              <div key={res._id} className='profile' onClick={() => handleContactClick(res)}>\r\n                {res.base64_img_data || res.img_url\r\n                  ? <ProfilePicture src={res.base64_img_data || res.img_url}/>\r\n                  : <BlankProfilePicture/>\r\n                }\r\n                <span>{res.first_name} {res.last_name}</span>\r\n              </div>\r\n            ))\r\n            : null}\r\n          </div>\r\n        : (\r\n          <>\r\n            <ChatFavorites/>\r\n            <ChatContacts/>\r\n          </>\r\n        )}\r\n\r\n      </div>\r\n\r\n      <div className='right'>\r\n        <Conversation/>\r\n        <ChatInputField/>\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ChatApp;","import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setIsMobile } from '../store/globalStates/globalStates.actions';\r\nimport { selectIsMobile } from '../store/globalStates/globalStates.selector';\r\n\r\nconst useMobile = () => {\r\n    const isMobile = useSelector(selectIsMobile);\r\n    const dispatch = useDispatch();\r\n\r\n   // Handle Screen size\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            if (window.innerWidth < 1280) {\r\n                dispatch(setIsMobile(true));\r\n            } else {\r\n                dispatch(setIsMobile(false));\r\n            }\r\n        };\r\n    \r\n        window.addEventListener('load', handleResize);\r\n        window.addEventListener('resize', handleResize);\r\n    \r\n        return () => {\r\n            window.removeEventListener('load', handleResize);\r\n            window.removeEventListener('resize', handleResize);\r\n        };\r\n    }, []);\r\n\r\n  return {\r\n    isMobile\r\n  }\r\n}\r\n\r\nexport default useMobile;"],"names":["_useState","useState","_useState2","_slicedToArray","inputValue","setInputValue","user","useAuth","inputRef","useRef","currentContact","useSelector","selectCurrentContact","_useChat","useChat","currentChat","handleSendMessage","_useState3","_useState4","isTyping","setIsTyping","handleMessageSubmit","e","preventDefault","date","Date","newMessage","text","from","_id","sent_at","toISOString","to","useEffect","length","notifyIsNotTyping","socket_id","notifyIsTyping","_jsxs","id","onSubmit","children","_jsx","type","name","onChange","target","value","placeholder","ref","className","onClick","IoMdSend","_ref","msg","_Fragment","AM_PM","messages","setMessages","contactName","setContactName","dispatch","useDispatch","messagesBottomRef","userInfo","favorites","selectFavorites","isMobile","useMobile","useSocketEvents","events","typing","notTyping","concat","first_name","last_name","_toConsumableArray","current","scrollIntoView","behavior","handleAddToFavorites","_asyncToGenerator","_regeneratorRuntime","mark","_callee","contactId","wrap","_context","prev","next","some","favId","updateUser","_objectSpread","filter","setFavorites","stop","_x","apply","arguments","_currentChat$messages","_currentChat$messages2","seen","setChat","map","base64_img_data","img_url","ProfilePicture","src","BlankProfilePicture","online","lastSeenTime","last_seen","Space","title","IconContainer","icon","BsStarFill","includes","AiOutlineUser","Line","ChatMessage","generateKey","getContactInfo","lastMessage","setLastMessage","setUnseenMessages","_useState5","_useState6","contact","setContact","loadChat","userId","fetchChatAsync","handleChatClick","_ref2","setCurrentContact","setChatSideBarOpen","refreshContact","_ref3","_callee2","_context2","sent","_x2","MdDoneAll","typingStates","setTypingStates","favoritesChats","selectFavoritesChats","sortChats","chatId","_defineProperty","setFavoritesChats","Suspense","fallback","Spinner","favChat","Chat","users","find","uid","chats","selectChats","contacts","selectContacts","fetchUserChats","BsChatLeftTextFill","chat","_chat$users","loadContacts","createNewChat","searchValue","setSearchValue","isSearching","setIsSearching","searchResults","setSearchResults","currentProject","useProject","navigate","useNavigate","chatSideBarOpen","selectChatSideBarOpen","handleContactClick","getChat","toLowerCase","matchingContacts","checkContactNames","setCurrentProject","setContacts","c","BsChevronRight","additionalClass","HiOutlineChatBubbleLeftRight","SearchBar","refValue","placeholderText","fn","BsSearch","res","ChatFavorites","ChatContacts","Conversation","ChatInputField","selectIsMobile","handleResize","window","innerWidth","setIsMobile","addEventListener","removeEventListener"],"sourceRoot":""}