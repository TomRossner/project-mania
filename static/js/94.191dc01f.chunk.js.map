{"version":3,"file":"static/js/94.191dc01f.chunk.js","mappings":"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","sources":["components/common/BackButton.js","components/pages/auth/Register.js","utils/regex.js"],"sourcesContent":["import React from 'react';\r\nimport { BiChevronLeft } from \"react-icons/bi\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst BackButton = () => {\r\n  const navigate = useNavigate();\r\n  const handleClick = () => navigate(-1);\r\n  \r\n  return (\r\n    <button type='button' className='back-button link' onClick={handleClick}><BiChevronLeft className='icon'/>Back</button>\r\n  )\r\n}\r\n\r\nexport default BackButton;","import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport BackButton from '../../common/BackButton';\r\nimport { registerUser } from '../../../services/api/http.auth';\r\nimport Input from '../../common/Input';\r\nimport {FcGoogle} from \"react-icons/fc\";\r\nimport useAuth from '../../../hooks/useAuth';\r\nimport { PATTERN_TYPES, checkPattern } from '../../../utils/regex';\r\nimport { ERROR_MESSAGES } from '../../../utils/errors';\r\nimport useProject from '../../../hooks/useProject';\r\n\r\nconst defaultRegistrationFormValues = {\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirm_password: \"\"\r\n}\r\n\r\nconst Register = () => {\r\n    const [formValues, setFormValues] = useState(defaultRegistrationFormValues);\r\n    const {first_name, last_name, email, password, confirm_password} = formValues;\r\n    const navigate = useNavigate();\r\n    const {googleSignUp} = useAuth();\r\n    const {showError} = useProject();\r\n\r\n    const trimValues = (values) => {\r\n        const trimmedValues = Object.values(values).map(val => val.trim());\r\n        \r\n        const entries = Object.entries(values).map(([key, value], index) => {\r\n            return [key, trimmedValues[index]];\r\n        });\r\n\r\n        const trimmedFormValues = Object.fromEntries(entries);\r\n\r\n        return trimmedFormValues;\r\n    }\r\n\r\n    const handleFormSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        // Check if one of the field is empty\r\n        const someValueIsEmpty = Object.values(formValues).some(value => !value);\r\n\r\n        if (someValueIsEmpty) {\r\n            showError(ERROR_MESSAGES.FORM_FIELD_EMPTY);\r\n            return;\r\n        }\r\n\r\n        // Check password against confirmed_password\r\n        if (confirm_password !== password) {\r\n            showError(ERROR_MESSAGES.PASSWORDS_DO_NOT_MATCH);\r\n            return;\r\n        }\r\n\r\n\r\n        // Validate inputs\r\n\r\n        // Check password\r\n        if (!checkPattern(PATTERN_TYPES.PASSWORD, password)) {\r\n            showError(ERROR_MESSAGES.INVALID_PASSWORD_FORMAT);\r\n            return;\r\n        }\r\n        \r\n        // Check email\r\n        if (!checkPattern(PATTERN_TYPES.EMAIL, email)) {\r\n            showError(ERROR_MESSAGES.INVALID_EMAIL_FORMAT);\r\n            return;\r\n        }\r\n\r\n        // Check first_name and last_name\r\n        if (!checkPattern(PATTERN_TYPES.NAME, first_name.trim()) || !checkPattern(PATTERN_TYPES.NAME, last_name.trim())) {\r\n            showError(ERROR_MESSAGES.INVALID_NAME_FORMAT);\r\n            return;\r\n        }\r\n\r\n        // Trim values\r\n        const values = trimValues(formValues);\r\n\r\n        // Proceed to registration\r\n        try {\r\n            await registerUser(values);\r\n            resetFormValues();\r\n            navigate('/sign-in');\r\n        } catch ({response}) {\r\n            if (response.data.error && response.status === 400) {\r\n                showError(response.data.error);\r\n            }\r\n        }\r\n    }\r\n\r\n    const resetFormValues = () => setFormValues(defaultRegistrationFormValues);\r\n    \r\n    const handleInputChange = (e) => {\r\n       return setFormValues({...formValues, [e.target.name]: e.target.value ? e.target.value: formValues[e.target.name].value});\r\n    }\r\n\r\n    const handleGoogleSignUp = async () => {\r\n        try {\r\n            await googleSignUp();\r\n            navigate('/sign-in');\r\n        } catch ({response}) {\r\n            if (response.data.error && response.status === 400) {\r\n                if (response.data.error === 'User already registered') {\r\n                    showError(`${response.data.error}. You may log in using your Google account.`);\r\n                    return;\r\n                } else {\r\n                    showError(response.data.error);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n  return (\r\n    <>\r\n    <BackButton/>\r\n    <div className='form-container'>\r\n        <form onSubmit={handleFormSubmit}>\r\n            <h2>Create an account</h2>\r\n\r\n            <div className='form-inputs-container'>\r\n                <Input\r\n                    name='first_name'\r\n                    id='first_name'\r\n                    onChange={handleInputChange}\r\n                    value={first_name}\r\n                    type='text'\r\n                    text='First name'\r\n                    placeholderText=\"First name\"\r\n                />\r\n\r\n                <Input\r\n                    id='last_name'\r\n                    name='last_name'\r\n                    type=\"text\"\r\n                    onChange={handleInputChange}\r\n                    value={last_name}\r\n                    text=\"Last name\"\r\n                    placeholderText=\"Last name\"\r\n                />\r\n                               \r\n                <Input\r\n                    id='email'\r\n                    name='email'\r\n                    type=\"email\"\r\n                    onChange={handleInputChange}\r\n                    value={email}\r\n                    text=\"Email\"\r\n                    placeholderText=\"Email\"\r\n                />\r\n            \r\n                <Input\r\n                    id='password'\r\n                    name='password'\r\n                    type=\"password\"\r\n                    onChange={handleInputChange}\r\n                    value={password}\r\n                    text=\"Password\"\r\n                    placeholderText=\"Password\"\r\n                />\r\n            \r\n                <Input\r\n                    id='confirm_password'\r\n                    name='confirm_password'\r\n                    type=\"password\"\r\n                    onChange={handleInputChange}\r\n                    value={confirm_password}\r\n                    text=\"Confirm password\"\r\n                    placeholderText=\"Confirm password\"\r\n                />\r\n                \r\n                <div className=\"buttons-container\">\r\n                    <button type='submit' className='btn form'>Create my account</button>\r\n                    <p>OR</p>\r\n                    <button type=\"button\" className=\"btn form white\" onClick={handleGoogleSignUp}><FcGoogle className=\"icon\"/>Sign up with Google</button>\r\n                </div>\r\n            </div>\r\n            <p>Already registered? <Link to=\"/sign-in\" className='link blue'>Log in</Link></p>\r\n        </form>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Register;","// Regex patterns\r\nconst REGEX_PATTERNS = {\r\n    EMAIL: /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g,\r\n    PASSWORD: /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/gm,\r\n    NAME: /([a-zA-Z]{3,30}\\s*)+/,\r\n}\r\n\r\n// Pattern types\r\nexport const PATTERN_TYPES = {\r\n    EMAIL: 'email',\r\n    PASSWORD: 'password',\r\n    NAME: 'name'\r\n}\r\n\r\n\r\n\r\n// Check regex pattern\r\nexport const checkPattern = (type, input) => {\r\n    \r\n    const {EMAIL, PASSWORD, NAME} = REGEX_PATTERNS;\r\n\r\n    switch(type) {\r\n        case PATTERN_TYPES.EMAIL:\r\n            return input.match(EMAIL);\r\n        case PATTERN_TYPES.PASSWORD:\r\n            return input.match(PASSWORD);\r\n        case PATTERN_TYPES.NAME:\r\n            return input.match(NAME);\r\n        default:\r\n            return false;\r\n    }\r\n}"],"names":["navigate","useNavigate","_jsxs","type","className","onClick","children","_jsx","BiChevronLeft","defaultRegistrationFormValues","first_name","last_name","email","password","confirm_password","_useState","useState","_useState2","_slicedToArray","formValues","setFormValues","googleSignUp","useAuth","showError","useProject","trimValues","values","trimmedValues","Object","map","val","trim","entries","_ref","index","_ref2","key","fromEntries","handleFormSubmit","_ref3","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","response","wrap","_context","prev","next","preventDefault","some","value","ERROR_MESSAGES","abrupt","checkPattern","PATTERN_TYPES","registerUser","resetFormValues","t0","data","error","status","stop","_x","apply","arguments","handleInputChange","_objectSpread","_defineProperty","target","name","handleGoogleSignUp","_ref5","_callee2","_context2","concat","_Fragment","BackButton","onSubmit","Input","id","onChange","text","placeholderText","FcGoogle","Link","to","REGEX_PATTERNS","EMAIL","PASSWORD","NAME","input","match"],"sourceRoot":""}