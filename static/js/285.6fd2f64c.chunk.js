"use strict";(self.webpackChunkproject_mania=self.webpackChunkproject_mania||[]).push([[285],{6017:function(n,e,i){i.r(e),i.d(e,{default:function(){return E}});var t=i(3433),s=i(9439),r=i(2791),o=i(9434),c=i(4101),l=i(1427),a=i(34),u=i(3763),d=i(7470),f=i(7800),m=i(2048),v=i(9143),h=i(9126),j=i(995),x=i(184),_=function(n){var e=n.user;return(0,x.jsxs)("div",{className:"user-tab",children:[e.base64_img_data||e.img_url?(0,x.jsx)(m.Z,{src:function(n){return n.base64_img_data?Buffer.from(n.base64_img_data):n.img_url.toString()}(e)}):(0,x.jsx)(v.Z,{}),(0,x.jsx)(j.Z,{title:e.online?"Online":"Offline",icon:function(n){return(0,x.jsx)(h.KC7,{className:n.online?"icon online-status green":"icon online-status grey"})}(e)}),(0,x.jsxs)("div",{className:"user-tab-content",children:[(0,x.jsxs)("h4",{children:[e.first_name," ",e.last_name]}),e.header?(0,x.jsx)("p",{children:e.header}):null]})]})},b=i(6747),w=i(4934),p=i(71),g=i(4888),Z=i(5680),N=i(7689),C=i(5224),k=i(6974),L=i(8820),E=function(){var n=(0,o.v9)(c.a),e=(0,f.Z)(),i=e.user,m=e.userInfo,v=(0,o.I0)(),E=(0,r.useState)(""),M=(0,s.Z)(E,2),S=M[0],z=M[1],I=(0,r.useState)([]),O=(0,s.Z)(I,2),R=O[0],A=O[1],B=(0,w.Z)(),F=B.currentProject,V=B.handleAddMember,q=B.handleRemoveMemberFromProject,y=(0,g.Z)().isMobile,D=(0,N.s0)(),K=(0,o.v9)(C.Rt),P=(0,k.Z)(),U=P.createNewChat,H=P.fetchUserChats;return(0,r.useEffect)((function(){S.length||A([]),function(e){if(n.some((function(n){return n.first_name.toLowerCase().includes(e.toLowerCase())||n.last_name.toLowerCase().includes(e.toLowerCase())}))){var i=(0,t.Z)(null===n||void 0===n?void 0:n.filter((function(n){return n.first_name.toLowerCase().includes(e.toLowerCase())||n.last_name.toLowerCase().includes(e.toLowerCase())})));A((0,t.Z)(i))}}(S)}),[S]),(0,r.useEffect)((function(){v((0,u.Dq)()),H()}),[]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("div",{className:"users-container",children:[(0,x.jsx)(l.Z,{}),(0,x.jsxs)("div",{className:"title",children:[(0,x.jsx)("h1",{children:"Users"}),(0,x.jsx)(a.Z,{value:S,fn:function(n){z(n.target.value)},placeholderText:"Search users",icon:(0,x.jsx)(j.Z,{icon:(0,x.jsx)(h.dVI,{className:"icon"})})})]}),(0,x.jsxs)("div",{className:"results-container",children:[(0,x.jsxs)("p",{children:[n.filter((function(n){return n._id!==(null===i||void 0===i?void 0:i._id)})).length," ",1===n.filter((function(n){return n._id!==(null===i||void 0===i?void 0:i._id)})).length?"user found":"users found"]}),(0,x.jsx)(d.Z,{}),R.length?(0,x.jsx)(x.Fragment,{children:null===R||void 0===R?void 0:R.filter((function(n){return n._id!==(null===i||void 0===i?void 0:i._id)})).map((function(e){var i,t;return(0,x.jsxs)("div",{className:"search-result",children:[(0,x.jsx)(_,{user:e}),(0,x.jsxs)("div",{className:"buttons-container",children:[(0,x.jsxs)("button",{className:"btn white",onClick:function(){return function(e){var i=n.find((function(n){return n._id===e}));if(v((0,Z.Ku)(i)),!(null===K||void 0===K?void 0:K.some((function(n){return n.users.some((function(n){return n===e}))}))))return U(null===m||void 0===m?void 0:m._id,i);v((0,Z.OB)(null===m||void 0===m?void 0:m._id,e)),D("/chat/".concat(null===m||void 0===m?void 0:m._id))}(e._id)},title:"Chat with ".concat(e.first_name),children:[(0,x.jsx)(j.Z,{icon:(0,x.jsx)(h.SO6,{className:"icon"})}),y?"":" Message"]}),(0,x.jsxs)("button",{className:"btn white",onClick:function(){e._id},title:"View ".concat(e.first_name,"'s profile"),children:[(0,x.jsx)(j.Z,{icon:(0,x.jsx)(p.bq1,{className:"icon xl"})}),y?"":" View profile"]}),(null===F||void 0===F||null===(i=F.members)||void 0===i?void 0:i.some((function(n){return n._id===e._id})))&&(null===m||void 0===m?void 0:m.admin)&&(0,x.jsxs)("button",{className:"btn white",title:"Remove ".concat(e.first_name," from project"),onClick:function(){return q(e._id)},children:[(0,x.jsx)(j.Z,{icon:(0,x.jsx)(L.ywL,{className:"icon"})}),y?"":" Remove from project"]}),!(null!==F&&void 0!==F&&null!==(t=F.members)&&void 0!==t&&t.some((function(n){return n._id===e._id})))&&(null===m||void 0===m?void 0:m.admin)&&(0,x.jsxs)("button",{className:"btn white",title:"Add ".concat(e.first_name," to project"),onClick:function(){return V(e)},children:[(0,x.jsx)(j.Z,{icon:(0,x.jsx)(h.L3d,{className:"icon xl"})}),y?"":" Add to project"]})]})]},(0,b.H)())}))}):null]})]})})}},1427:function(n,e,i){i(2791);var t=i(7692),s=i(7689),r=i(184);e.Z=function(){var n=(0,s.s0)();return(0,r.jsxs)("button",{className:"back-button link",onClick:function(){return n(-1)},children:[(0,r.jsx)(t.gbs,{className:"icon"}),"Back"]})}},9143:function(n,e,i){i.d(e,{Z:function(){return r}});i(2791);var t=i.p+"static/media/blank-profile-picture.48af6c0bf2932eced28a.png",s=i(184),r=function(n){var e=n.size;return(0,s.jsx)("div",{className:"profile-img-container blank",children:(0,s.jsx)("img",{id:"blank-profile",src:t,alt:"blank profile",width:e||null,height:e||null})})}},2048:function(n,e,i){i(2791);var t=i(184);e.Z=function(n){var e=n.src,i=n.size;return(0,t.jsx)("div",{className:"profile-img-container",children:(0,t.jsx)("img",{src:e,alt:"profile",width:i||null,height:i||null})})}},4888:function(n,e,i){var t=i(2791),s=i(9434),r=i(7480),o=i(4083);e.Z=function(){var n=(0,s.v9)(o.eD),e=(0,s.I0)();return(0,t.useEffect)((function(){var n=function(){window.innerWidth<1441?e((0,r.Ep)(!0)):e((0,r.Ep)(!1))};return window.addEventListener("resize",n),window.addEventListener("load",n),function(){window.removeEventListener("resize",n),window.removeEventListener("load",n)}}),[]),{isMobile:n}}}}]);
//# sourceMappingURL=285.6fd2f64c.chunk.js.map