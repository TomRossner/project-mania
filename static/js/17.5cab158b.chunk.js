"use strict";(self.webpackChunkproject_mania=self.webpackChunkproject_mania||[]).push([[17],{6017:function(e,n,i){i.r(n),i.d(n,{default:function(){return E}});var t=i(3433),s=i(9439),r=i(2791),o=i(9434),c=i(1427),l=i(34),a=i(3763),u=i(7470),d=i(5305),f=i(2048),m=i(9143),v=i(9126),h=i(995),j=i(184),x=function(e){var n=e.user;return(0,j.jsxs)("div",{className:"user-tab",children:[n.base64_img_data||n.img_url?(0,j.jsx)(f.Z,{src:function(e){return e.base64_img_data?Buffer.from(e.base64_img_data):e.img_url.toString()}(n)}):(0,j.jsx)(m.Z,{}),(0,j.jsx)(h.Z,{title:n.online?"Online":"Offline",icon:function(e){return(0,j.jsx)(v.KC7,{className:e.online?"icon online-status green":"icon online-status grey"})}(n)}),(0,j.jsxs)("div",{className:"user-tab-content",children:[(0,j.jsxs)("h4",{children:[n.first_name," ",n.last_name]}),n.header?(0,j.jsx)("p",{children:n.header}):null]})]})},_=i(6747),w=i(4934),b=i(71),Z=i(4888),N=i(5680),C=i(7689),g=i(5224),p=i(6974),L=i(8820),k=i(5233),E=function(){var e=(0,k.Z)().members,n=(0,d.Z)(),i=n.user,f=n.userInfo,m=(0,o.I0)(),E=(0,r.useState)(""),M=(0,s.Z)(E,2),S=M[0],A=M[1],I=(0,r.useState)([]),O=(0,s.Z)(I,2),R=O[0],B=O[1],F=(0,w.Z)(),V=F.currentProject,q=F.handleAddMember,y=F.handleRemoveMemberFromProject,z=F.isAdmin,D=(0,Z.Z)().isMobile,K=(0,C.s0)(),P=(0,o.v9)(g.Rt),U=(0,p.Z)(),H=U.createNewChat,T=U.fetchUserChats;return(0,r.useEffect)((function(){S.length||B([]),function(n){if(e.some((function(e){return e.first_name.toLowerCase().includes(n.toLowerCase())||e.last_name.toLowerCase().includes(n.toLowerCase())}))){var i=(0,t.Z)(null===e||void 0===e?void 0:e.filter((function(e){return e.first_name.toLowerCase().includes(n.toLowerCase())||e.last_name.toLowerCase().includes(n.toLowerCase())})));B((0,t.Z)(i))}}(S)}),[S]),(0,r.useEffect)((function(){m((0,a.Dq)()),T()}),[]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"users-container",children:[(0,j.jsx)(c.Z,{}),(0,j.jsxs)("div",{className:"title",children:[(0,j.jsx)("h1",{children:"Users"}),(0,j.jsx)(l.Z,{value:S,fn:function(e){A(e.target.value)},placeholderText:"Search users",icon:(0,j.jsx)(h.Z,{icon:(0,j.jsx)(v.dVI,{className:"icon"})})})]}),(0,j.jsxs)("div",{className:"results-container",children:[(0,j.jsxs)("p",{children:[null===e||void 0===e?void 0:e.filter((function(e){return e._id!==(null===i||void 0===i?void 0:i._id)})).length," ",1===(null===e||void 0===e?void 0:e.filter((function(e){return e._id!==(null===i||void 0===i?void 0:i._id)})).length)?"user found":"users found"]}),(0,j.jsx)(u.Z,{}),R.length||e.length?(0,j.jsx)(j.Fragment,{children:null===R||void 0===R?void 0:R.filter((function(e){return e._id!==(null===i||void 0===i?void 0:i._id)})).map((function(n){var i,t;return(0,j.jsxs)("div",{className:"search-result",children:[(0,j.jsx)(x,{user:n}),(0,j.jsxs)("div",{className:"buttons-container",children:[(0,j.jsxs)("button",{className:"btn white",onClick:function(){return function(n){var i=e.find((function(e){return e._id===n}));if(m((0,N.Ku)(i)),!(null===P||void 0===P?void 0:P.some((function(e){return e.users.some((function(e){return e===n}))}))))return H(null===f||void 0===f?void 0:f._id,i);m((0,N.OB)(null===f||void 0===f?void 0:f._id,n)),K("/chat/".concat(null===f||void 0===f?void 0:f._id))}(n._id)},title:"Chat with ".concat(n.first_name),children:[(0,j.jsx)(h.Z,{icon:(0,j.jsx)(v.SO6,{className:"icon"})}),D?"":" Message"]}),(0,j.jsxs)("button",{className:"btn white",onClick:function(){n._id},title:"View ".concat(n.first_name,"'s profile"),children:[(0,j.jsx)(h.Z,{icon:(0,j.jsx)(b.bq1,{className:"icon xl"})}),D?"":" View profile"]}),(null===V||void 0===V||null===(i=V.members)||void 0===i?void 0:i.some((function(e){return e._id===n._id})))&&z&&(0,j.jsxs)("button",{className:"btn white",title:"Remove ".concat(n.first_name," from project"),onClick:function(){return y(n._id)},children:[(0,j.jsx)(h.Z,{icon:(0,j.jsx)(L.ywL,{className:"icon"})}),D?"":" Remove from project"]}),!(null!==V&&void 0!==V&&null!==(t=V.members)&&void 0!==t&&t.some((function(e){return e._id===n._id})))&&z&&(0,j.jsxs)("button",{className:"btn white",title:"Add ".concat(n.first_name," to project"),onClick:function(){return q(n)},children:[(0,j.jsx)(h.Z,{icon:(0,j.jsx)(v.L3d,{className:"icon xl"})}),D?"":" Add to project"]})]})]},(0,_.H)())}))}):null]})]})})}},1427:function(e,n,i){i(2791);var t=i(7692),s=i(7689),r=i(184);n.Z=function(){var e=(0,s.s0)();return(0,r.jsxs)("button",{className:"back-button link",onClick:function(){return e(-1)},children:[(0,r.jsx)(t.gbs,{className:"icon"}),"Back"]})}},4888:function(e,n,i){var t=i(2791),s=i(9434),r=i(7480),o=i(4083);n.Z=function(){var e=(0,s.v9)(o.eD),n=(0,s.I0)();return(0,t.useEffect)((function(){var e=function(){window.innerWidth<1441?n((0,r.Ep)(!0)):n((0,r.Ep)(!1))};return window.addEventListener("resize",e),window.addEventListener("load",e),function(){window.removeEventListener("resize",e),window.removeEventListener("load",e)}}),[]),{isMobile:e}}}}]);
//# sourceMappingURL=17.5cab158b.chunk.js.map